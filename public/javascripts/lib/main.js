// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    $('.signUp').on('submit', function(e) {
      var serialData;
      e.preventDefault();
      serialData = $(this).serialize();
      $.post("/signup", serialData, function(data) {
        if (data.message) {
          return $('.error').fadeIn('fast', function() {
            return $('.error').fadeOut('slow');
          });
        } else {
          $.post('/signin', serialData, function(data) {
            console.log(serialData);
            console.log(data);
            return window.location = data.redirect;
          });
          return $('#signUpModal').modal('toggle');
        }
      });
    });
    $('.signIn').on('submit', function(e) {
      var serialData;
      e.preventDefault();
      serialData = $(this).serialize();
      console.log('outsidepost', serialData);
      return $.post('/signin', serialData, function(data) {
        console.log('insidepost', serialData);
        return window.location = data.redirect;
      }).fail(function() {
        return $('#error').fadeIn('slow', function() {
          return $('#error').fadeOut('slow');
        });
      });
    });
    $(document).on('click', '.choosePath', function() {
      var chosenPath;
      chosenPath = $(this).attr('data-path');
      return $.post('/chosenpath', {
        path: chosenPath
      }, function(data) {
        return console.log(chosenPath);
      });
    });
  });

}).call(this);
